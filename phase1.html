<!doctype html>
<html lang='fr'>

<head>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="styles.css">
    <script src='js/jquery.min.js'></script>
    <script src="js/jquery-ui.min.js"></script>
    <title>Simplon</title>
</head>

<body>
    <div class="tout">
        <div class="blocka">
            <div class="lignea">
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-0"></div>
                        <div class="intb" id="photo-1"></div>
                    </div>
                </div>

                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-4"></div>
                        <div class="intb" id="photo-5"></div>
                    </div>
                </div>
            </div>
            <div class="ligneb">
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-2"></div>
                        <div class="intb" id="photo-3"></div>
                    </div>
                </div>
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-6"></div>
                        <div class="intb" id="photo-7"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="blockb">
            <div class="lignea">
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-8"></div>
                        <div class="intb" id="photo-9"></div>
                    </div>
                </div>
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-12"></div>
                        <div class="intb" id="photo-13"></div>
                    </div>
                </div>
            </div>
            <div class="ligneb">
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-10"></div>
                        <div class="intb" id="photo-11"></div>
                    </div>
                </div>
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-14"></div>
                        <div class="intb" id="photo-15"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="blockc">
            <div class="lignea">
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-16"></div>
                        <div class="intb" id="photo-17"></div>
                    </div>
                </div>
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-20"></div>
                        <div class="intb" id="photo-21"></div>
                    </div>
                </div>
            </div>
            <div class="ligneb">
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-18"></div>
                        <div class="intb" id="photo-19"></div>
                    </div>
                </div>
                <div class="cadre">
                    <div class="centre">
                        <div class="inta" id="photo-22"></div>
                        <div class="intb" id="photo-23"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="menu" id="menu">
        <button class="menu-bt" id="placer" onclick="setTimeout('placer()', 1000),setTimeout('nom()', 2000);">PLACER</button>
        <br />
        <button class="menu-bt" id="decouvrir" onclick="setTimeout('decouvrir()', 10);">DECOUVRIR</button>
        <br />
        <button class="menu-bt marge-bt" id="annuler" onclick='annuler()'>REINITIALISER</button>
        <div class="recepteur" id="recepteur">
        </div>
    </div>
    <script>
        function shuffle(a) {
            var j, x, i;
            for (i = a.length; i; i -= 1) {
                j = Math.floor(Math.random() * i);
                x = a[i - 1];
                a[i - 1] = a[j];
                a[j] = x;
            }
        }
        var listes = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '0'];
        var simplonniens = {
            0: {
                nom: 'Marchal Thibault',
                age: '23 ans'
            },
            1: {
                nom: 'Dupoirieux Yoann',
                age: '29 ans'
            },
            2: {
                nom: 'Hel Nicolas',
                age: '31 ans'
            },
            3: {
                nom: 'Dassigny Kevin',
                age: '24 ans'
            },
            4: {
                nom: 'Maignan Dylan',
                age: '19 ans'
            },
            5: {
                nom: 'Prevot Gwenael',
                age: '24 ans'
            },
            6: {
                nom: 'Toussaint Audrey',
                age: '22 ans'
            },
            7: {
                nom: 'Nazimek Alexis',
                age: '23 ans'
            },
            8: {
                nom: 'Mehlinger Fabien',
                age: '19 ans'
            },
            9: {
                nom: 'Fetet Kevin',
                age: '25 ans'
            },
            10: {
                nom: 'Warnet Lucas',
                age: '21 ans'
            },
            11: {
                nom: 'Bertrand Etienne',
                age: '26 ans'
            },
            12: {
                nom: 'Fleurentin Jennifer',
                age: '23 ans'
            },
            13: {
                nom: 'Maillard Florent',
                age: '30 ans'
            },
            14: {
                nom: 'Richard Meddy',
                age: '21 ans'
            },
            15: {
                nom: 'Najai Kaouthar',
                age: '24 ans'
            },
            16: {
                nom: 'Perrin Olivier',
                age: '32 ans'
            },
            17: {
                nom: 'Chouieb Mehdy',
                age: '19 ans'
            },
            18: {
                nom: 'Creus Virginie',
                age: '29 ans'
            },
            19: {
                nom: 'Filali Dalia',
                age: '21 ans'
            },
            20: {
                nom: 'Bouroub Djamel',
                age: '26 ans'
            },
            21: {
                nom: 'Cardoso Christopher',
                age: '19 ans'
            },
            22: {
                nom: 'Mouraret Steve',
                age: '22 ans'
            },
            23: {
                nom: 'Chudant Chlo√©',
                age: '24 ans'
            }
        };
        for (var i = 0; i < 24; i++) {
            document.getElementById("menu").innerHTML += "<div class='flip-container abs' id='paquet-" + i + "' ontouchstart='this.classList.toggle('hover');'><div class='flipper' id='flipper" + i + "'><div class='front'><img class='ph abs' src='img/back.gif'></div><div class='back' id='photob-" + i + "'></div></div></div>";
        }

        function nom() {
            for (var i = 0; i < 24; i++) {
                document.getElementById("nom-" + i + "").innerHTML = simplonniens["" + i + ""]["nom"];
                document.getElementById("age-" + i + "").innerHTML = simplonniens["" + i + ""]["age"];
            }
        }

        function placer() {
            shuffle(listes);
            for (var i = 0; i < 24; i++) {
                document.getElementById("photob-" + listes[i] + "").innerHTML = '<div id="phi" class="ih-item square colored effect4"><a href="#"><div class="img"><img  class="ph" src="photos-apprenants/' + i + '.jpg" /><div class="mask1"></div><div class="mask2"></div><div class="info"><h3 id="nom-' + i + '"></h3><p id="age-' + i + '"></p></div></a></div>';
            }
        }

        function annuler() {
            for (var i = 0; i < 24; i++) {
                $('#paquet-' + i + '').effect('transfer', {
                    to: $('#recepteur')
                }, 3000);
                $(".abs").css("position", "absolute"), 650;
                $('#paquet-' + i + '').prependTo('#recepteur').hide().fadeIn('slow');
            }
        }
        $('#placer').click(function () {
            for (var i = 0; i < 24; i++) {
                $('#paquet-' + i + '').effect('transfer', {
                    to: $('#photo-' + i + '')
                }, 2000);
            }
            setTimeout(function () {
                for (var i = 0; i < 24; i++) {
                    $('#paquet-' + i + '').prependTo('#photo-' + i + '').hide().fadeIn('slow');
                }
                $(".abs").css("position", "relative");
            }, 250);
        });




        function decouvrir() {
            for (i = 0; i <= 24; i++) {
                (function (i) {
                    setTimeout(function () {
                        document.querySelector("#paquet-" + i + "").classList.toggle("flip");

                    }, 400 * i);
                }(i));
            }
        }
        
        $("#decouvrir").click(function () {
       $(this).text(function(i, v){
               return v === 'DECOUVRIR' ? 'CACHER' : 'DECOUVRIR'
            })
        });
    </script>
</body>
<html>